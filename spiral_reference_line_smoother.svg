<?xml version="1.0"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.0//EN"  "http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd">
<svg width="620" height="1260" xmlns="http://www.w3.org/2000/svg">
<desc>AutoFlowchart</desc>
<rect x="52" y="20" width="75" height="30" rx="15" ry="15" fill="none" stroke="black" stroke-width="2"/>
<text x="90" y="42"  style="text-anchor:middle" font-size="12">START</text>
<polyline points="90,50,90,70" fill="none" stroke="black" stroke-width="2"/>
<rect x="52" y="1190" width="75" height="30" rx="15" ry="15" fill="none" stroke="black" stroke-width="2"/>
<text x="90" y="1212"  style="text-anchor:middle" font-size="12">END</text>
<polygon points="90,70,140,100,90,130,40,100" fill="none" stroke="black" stroke-width="2" />
<text x="90" y="106" style="text-anchor:middle" font-size="12">(anchor_points_.empty())</text>
<polyline points="90,130,90,150" fill="none" stroke="black" stroke-width="2"/>
<polyline points="140,100,250,100,250,150" fill="none" stroke="black" stroke-width="2"/>
<polyline points="250,1170,250,1170,90,1170,90,1190" fill="none" stroke="black" stroke-width="2"/>
<polyline points="90,390,90,1190" fill="none" stroke="black" stroke-width="2"/>
<rect x="40" y="150" width="100" height="30" fill="none" stroke="black" stroke-width="2"/>
<text x="90" y="171" style="text-anchor:middle" font-size="12">Code</text>
<polyline points="90,180,90,200" fill="none" stroke="black" stroke-width="2"/>
<polyline points="40,200,110,200,140,215,110,230,40,230,40,200" fill="none" stroke="black" stroke-width="2"/>
<text x="82" y="221" style="text-anchor:middle" font-size="12">for (std::uint32_t i = 0; i <= num_of_pieces;
         ++i, s = std::fmin(s + delta_s, length))</text>
<polyline points="90,230,90,250" fill="none" stroke="black" stroke-width="2"/>
<polyline points="140,215,160,215,160,320,90,320,90,340" fill="none" stroke="black" stroke-width="2"/>
<polyline points="160,273,158,267,162,267,160,273,160,267" fill="none" stroke="black" stroke-width="2"/>
<polyline points="90,280,90,300,20,300,20,215,40,215" fill="none" stroke="black" stroke-width="2"/>
<polyline points="20,267,18,273,22,273,20,267,20,273" fill="none" stroke="black" stroke-width="2"/>
<rect x="40" y="250" width="100" height="30" fill="none" stroke="black" stroke-width="2"/>
<text x="90" y="271" style="text-anchor:middle" font-size="12">Code</text>
<polyline points="90,280,90,300" fill="none" stroke="black" stroke-width="2"/>
<rect x="40" y="340" width="100" height="30" fill="none" stroke="black" stroke-width="2"/>
<text x="90" y="361" style="text-anchor:middle" font-size="12">Code</text>
<polyline points="90,370,90,390" fill="none" stroke="black" stroke-width="2"/>
<rect x="200" y="150" width="100" height="30" fill="none" stroke="black" stroke-width="2"/>
<text x="250" y="171" style="text-anchor:middle" font-size="12">Code</text>
<polyline points="250,180,250,200" fill="none" stroke="black" stroke-width="2"/>
<polyline points="200,200,390,200,420,215,390,230,200,230,200,200" fill="none" stroke="black" stroke-width="2"/>
<text x="302" y="221" style="text-anchor:middle" font-size="12">for (const auto& anchor_point : anchor_points_)</text>
<polyline points="250,230,250,250" fill="none" stroke="black" stroke-width="2"/>
<polyline points="420,215,440,215,440,420,250,420,250,440" fill="none" stroke="black" stroke-width="2"/>
<polyline points="440,323,438,317,442,317,440,323,440,317" fill="none" stroke="black" stroke-width="2"/>
<polyline points="250,380,250,400,180,400,180,215,200,215" fill="none" stroke="black" stroke-width="2"/>
<polyline points="180,317,178,323,182,323,180,317,180,323" fill="none" stroke="black" stroke-width="2"/>
<polygon points="250,250,300,280,250,310,200,280" fill="none" stroke="black" stroke-width="2" />
<text x="250" y="286" style="text-anchor:middle" font-size="12">(anchor_point.enforced)</text>
<polyline points="250,310,250,330" fill="none" stroke="black" stroke-width="2"/>
<polyline points="300,280,370,280,370,330" fill="none" stroke="black" stroke-width="2"/>
<polyline points="370,380,370,380,250,380,250,400" fill="none" stroke="black" stroke-width="2"/>
<polyline points="250,380,250,400" fill="none" stroke="black" stroke-width="2"/>
<rect x="200" y="330" width="100" height="30" fill="none" stroke="black" stroke-width="2"/>
<text x="250" y="351" style="text-anchor:middle" font-size="12">Code</text>
<polyline points="250,360,250,380" fill="none" stroke="black" stroke-width="2"/>
<rect x="320" y="330" width="100" height="30" fill="none" stroke="black" stroke-width="2"/>
<text x="370" y="351" style="text-anchor:middle" font-size="12">Break</text>
<polyline points="370,360,370,380" fill="none" stroke="black" stroke-width="2"/>
<rect x="200" y="440" width="100" height="30" fill="none" stroke="black" stroke-width="2"/>
<text x="250" y="461" style="text-anchor:middle" font-size="12">Code</text>
<polyline points="250,470,250,490" fill="none" stroke="black" stroke-width="2"/>
<polygon points="250,490,300,520,250,550,200,520" fill="none" stroke="black" stroke-width="2" />
<text x="250" y="526" style="text-anchor:middle" font-size="12">(start_index == 0)</text>
<polyline points="250,550,250,570" fill="none" stroke="black" stroke-width="2"/>
<polyline points="300,520,410,520,410,570" fill="none" stroke="black" stroke-width="2"/>
<polyline points="410,1150,410,1150,250,1150,250,1170" fill="none" stroke="black" stroke-width="2"/>
<polyline points="250,710,250,1170" fill="none" stroke="black" stroke-width="2"/>
<polyline points="200,570,270,570,300,585,270,600,200,600,200,570" fill="none" stroke="black" stroke-width="2"/>
<text x="242" y="591" style="text-anchor:middle" font-size="12">for (const auto& anchor_point : anchor_points_)</text>
<polyline points="250,600,250,620" fill="none" stroke="black" stroke-width="2"/>
<polyline points="300,585,320,585,320,690,250,690,250,710" fill="none" stroke="black" stroke-width="2"/>
<polyline points="320,643,318,637,322,637,320,643,320,637" fill="none" stroke="black" stroke-width="2"/>
<polyline points="250,650,250,670,180,670,180,585,200,585" fill="none" stroke="black" stroke-width="2"/>
<polyline points="180,637,178,643,182,643,180,637,180,643" fill="none" stroke="black" stroke-width="2"/>
<rect x="200" y="620" width="100" height="30" fill="none" stroke="black" stroke-width="2"/>
<text x="250" y="641" style="text-anchor:middle" font-size="12">Code</text>
<polyline points="250,650,250,670" fill="none" stroke="black" stroke-width="2"/>
<rect x="360" y="570" width="100" height="30" fill="none" stroke="black" stroke-width="2"/>
<text x="410" y="591" style="text-anchor:middle" font-size="12">Code</text>
<polyline points="410,600,410,620" fill="none" stroke="black" stroke-width="2"/>
<polyline points="360,620,430,620,460,635,430,650,360,650,360,620" fill="none" stroke="black" stroke-width="2"/>
<text x="402" y="641" style="text-anchor:middle" font-size="12">for (size_t i = 0; i + 1 < start_index; ++i)</text>
<polyline points="410,650,410,670" fill="none" stroke="black" stroke-width="2"/>
<polyline points="460,635,480,635,480,740,410,740,410,760" fill="none" stroke="black" stroke-width="2"/>
<polyline points="480,693,478,687,482,687,480,693,480,687" fill="none" stroke="black" stroke-width="2"/>
<polyline points="410,700,410,720,340,720,340,635,360,635" fill="none" stroke="black" stroke-width="2"/>
<polyline points="340,687,338,693,342,693,340,687,340,693" fill="none" stroke="black" stroke-width="2"/>
<rect x="360" y="670" width="100" height="30" fill="none" stroke="black" stroke-width="2"/>
<text x="410" y="691" style="text-anchor:middle" font-size="12">Code</text>
<polyline points="410,700,410,720" fill="none" stroke="black" stroke-width="2"/>
<rect x="360" y="760" width="100" height="30" fill="none" stroke="black" stroke-width="2"/>
<text x="410" y="781" style="text-anchor:middle" font-size="12">Code</text>
<polyline points="410,790,410,810" fill="none" stroke="black" stroke-width="2"/>
<polyline points="360,810,550,810,580,825,550,840,360,840,360,810" fill="none" stroke="black" stroke-width="2"/>
<text x="462" y="831" style="text-anchor:middle" font-size="12">for (size_t i = 0; i < anchor_points_.size(); ++i)</text>
<polyline points="410,840,410,860" fill="none" stroke="black" stroke-width="2"/>
<polyline points="580,825,600,825,600,1080,410,1080,410,1100" fill="none" stroke="black" stroke-width="2"/>
<polyline points="600,958,598,952,602,952,600,958,600,952" fill="none" stroke="black" stroke-width="2"/>
<polyline points="410,1040,410,1060,340,1060,340,825,360,825" fill="none" stroke="black" stroke-width="2"/>
<polyline points="340,952,338,958,342,958,340,952,340,958" fill="none" stroke="black" stroke-width="2"/>
<rect x="360" y="860" width="100" height="30" fill="none" stroke="black" stroke-width="2"/>
<text x="410" y="881" style="text-anchor:middle" font-size="12">Code</text>
<polyline points="410,890,410,910" fill="none" stroke="black" stroke-width="2"/>
<polygon points="410,910,460,940,410,970,360,940" fill="none" stroke="black" stroke-width="2" />
<text x="410" y="946" style="text-anchor:middle" font-size="12">(i + 1 < start_index)</text>
<polyline points="410,970,410,990" fill="none" stroke="black" stroke-width="2"/>
<polyline points="460,940,530,940,530,990" fill="none" stroke="black" stroke-width="2"/>
<polyline points="530,1040,530,1040,410,1040,410,1060" fill="none" stroke="black" stroke-width="2"/>
<polyline points="410,1040,410,1060" fill="none" stroke="black" stroke-width="2"/>
<rect x="360" y="990" width="100" height="30" fill="none" stroke="black" stroke-width="2"/>
<text x="410" y="1011" style="text-anchor:middle" font-size="12">Code</text>
<polyline points="410,1020,410,1040" fill="none" stroke="black" stroke-width="2"/>
<rect x="480" y="990" width="100" height="30" fill="none" stroke="black" stroke-width="2"/>
<text x="530" y="1011" style="text-anchor:middle" font-size="12">Code</text>
<polyline points="530,1020,530,1040" fill="none" stroke="black" stroke-width="2"/>
<rect x="360" y="1100" width="100" height="30" fill="none" stroke="black" stroke-width="2"/>
<text x="410" y="1121" style="text-anchor:middle" font-size="12">Code</text>
<polyline points="410,1130,410,1150" fill="none" stroke="black" stroke-width="2"/>
</svg>
